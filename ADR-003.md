# ADR-003: Adoção de Logging Estruturado (JSON)

**Status**: Proposto

**Contexto**:
A aplicação atualmente gera logs em formato de texto plano (plain text). Para melhorar a observabilidade, a capacidade de busca e a integração com futuras ferramentas de agregação de logs (como a stack ELK, Splunk, ou Datadog), é necessário que os logs sejam gerados em um formato estruturado, como JSON.

**Decisão**:
Adotaremos o uso do framework de logging **Logback**, que já é o padrão no Spring Boot, em conjunto com a biblioteca **`logstash-logback-encoder`**.

Esta biblioteca fornecerá um `Encoder` que formata as saídas de log para o formato JSON, incluindo automaticamente informações úteis como timestamp, nível de severidade, thread, nome do logger, e a mensagem. Mais importante, ele se integra nativamente com o MDC (Mapped Diagnostic Context) do SLF4J para permitir o enriquecimento dos logs com dados estruturados específicos da aplicação.

A configuração será feita através de um arquivo `logback-spring.xml` no diretório `src/main/resources`.

**Alternativas Consideradas**:
*   **Log4j2**: Foi considerado por sua alta performance e suporte nativo a JSON. No entanto, a troca do framework de logging padrão aumentaria a complexidade da implementação sem um ganho significativo para o nosso cenário atual. A abordagem com Logback e o encoder específico é menos invasiva.

**Consequências**:
*   **Positivas**:
    *   Logs serão emitidos em formato JSON, prontos para serem consumidos por agregadores de log.
    *   Facilita a busca e a correlação de eventos durante a depuração e monitoramento.
    *   Melhora a observabilidade geral do sistema.
    *   Implementação de baixo esforço, aproveitando a stack existente.
*   **Negativas**:
    *   A leitura dos logs no console durante o desenvolvimento local pode ser um pouco menos "humana" devido ao formato JSON, mas os benefícios superam essa desvantagem.

> *Generated by Gemini CLI*
